# Deploying Django Spotify Backend on Render

This guide explains how to deploy this Django application on Render.com.

## Prerequisites

- A [Render](https://render.com) account
- Your code pushed to a Git repository (GitHub, GitLab, etc.)

## Deployment Steps

### 1. Connect Your Repository to Render

1. In your Render dashboard, click "New" and select "Blueprint"
2. Connect to your GitHub/GitLab account
3. Select your repository
4. Render will automatically detect the `render.yaml` file and create resources based on it

### 2. Review the Deployment

The `render.yaml` file defines:
- A web service for the Django application
- A PostgreSQL database

Render will create both services automatically.

### 3. Environment Variables

The following environment variables are automatically set by Render based on the configuration:

- `DEBUG`: Set to false in production
- `DJANGO_ENV`: Set to production
- `DJANGO_SETTINGS_MODULE`: Points to the Render-specific settings
- `SECRET_KEY`: Automatically generated by Render
- `ALLOWED_HOSTS`: Configured to allow the Render domain
- Database credentials: Connected from the Render PostgreSQL instance

### 4. Monitoring the Deployment

- After deployment begins, monitor the logs for any issues
- The health check endpoint at `/api/health/` will be used by Render to verify the application is running

### 5. Static Files

Static files are collected during the Docker build process and served by the Django application. For production use, consider:

1. Using AWS S3 for media and static files (update the settings in `spotify/settings_render.py`)
2. Add the AWS credentials to your Render environment variables:
   - `AWS_ACCESS_KEY_ID`
   - `AWS_SECRET_ACCESS_KEY`
   - `S3_BUCKET_NAME`
   - `AWS_REGION`

### 6. Custom Domain (Optional)

1. In the Render dashboard, go to your web service
2. Navigate to "Settings" > "Custom Domain"
3. Add your domain and follow the DNS instructions

## Troubleshooting

- **Database Connection Issues**: Check that the database service is running and credentials are correct
- **Application Errors**: View logs in the Render dashboard
- **Static Files Not Loading**: Ensure the `collectstatic` command ran successfully

## Updating Your Application

When you push changes to your repository, Render will automatically rebuild and redeploy your application if you've enabled auto-deploy. 